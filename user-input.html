<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
            <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

    <title>FORWARD Tutorial</title>
    <style type="text/css">
        :root #content> #right> .dose> .dosesingle,
        :root #content> #center> .dose> .dosesingle {
            display: none !important;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <h2>User Input</h2>

        <img src="../../img/tutorial/04-user-input.png" width="400" height="265">

        <p>Visualizations often change based on user input. In FORWARD applications, the UAS virtual database also captures user input on the page. Thus, a SQL++ query can also read from user input when computing page data.</p>

        <h2>Use Case: User Input</h2>

        <p>This example shows an application where a user uses a drop-down to choose between a column chart and an area chart.</p>

        <p>The application below is interactive: Try it out!</p>

        <h3>Example Code</h3>

        <p>On <tt>index.page</tt>, the <code>&lt;% define %&gt;</code> directive (line 8) defines a page variable <code>chart_type</code> which defaults to <code>'column'</code>.</p>

        <p>The drop-down visual unit (lines 10-17) binds its selected option to the <code>chart_type</code> variable as follows. The <code>options</code> attribute (lines 12-15) is an array of tuples, where each tuple has a <code>label</code> that is displayed
            in the browser, and a <code>value</code> for its corresponding value. The <code>selected</code> attribute (line 16) represents the selected value. Due to the <code>&lt;% bind %&gt;</code> directive (line 16), the selected value is automatically
            bound to the <code>chart_type</code> variable. Finally, the <code>&lt;% event %&gt;</code> directive (line 11) specifies that <code>index.action</code> is invoked whenever the <code>onchange</code> event fires (i.e. when the selected value
            changes).</p>

        <p>The HighCharts visual unit uses the selected value to display the relevant chart: its chart type is instantiated by the <code>chart_type</code> variable (line 20).</p>

        <h3>Key Feature</h3>

        <p>Notice that FORWARD automatically keeps the page in sync with user input! No code is needed to update the HighCharts visual unit based on what the user has selected.</p>

        <h3>Exercises</h3>
        <ol>
            <li>Set the default to a area chart. Change the <code>&lt;% define %&gt;</code> directive as follows:<pre>&lt;% define chart_type string default 'area' %&gt;
</pre></li>
            <li>Add more drop-down options. For example, change the <code>options</code> attribute as follows:<pre>options : [
    { label : 'Column',     value : 'column'    },
    { label : 'Area',       value : 'area'      },
    { label : 'Line',       value : 'line'      },
    { label : 'Scatter',    value : 'scatter'   }
],
</pre>
            </li>
        </ol>
    </div>



</body>

</html>
